<<<<<<< HEAD
<<<<<<< HEAD
!function e(t,n,r){function o(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return o(n?n:e)},a,a.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(){},{}],2:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],3:[function(e,t,n){"use strict";function r(e){for(var t in e)return!1;return!0}function o(e,t,n){return new d(function(r){e[n]?t(null,e[n],n,e.length).then(function(){o(e,t,n+1).then(r)}):r()})}function i(e,t){return t.$createdAt=(new Date).toJSON(),new d(function(n){e.post(t).then(function(e){n(e)})})}function u(e,t){var n={},r=!1;for(var o in t)e[o]!==t[o]&&(r=!0,n[o]=t[o],e[o]=t[o]);return r?n:null}function c(e,t){return new d(function(n){e.get(t).then(function(t){e.remove(t).then(n)})["catch"](function(){n()})})}function s(e,t,n){return new d(function(r){var o=[];t.rows.forEach(function(i,u){n[i.doc.$id]&&o.push(c(e,i.id)),u===t.rows.length-1&&d.all(o).then(r)})})}function a(e,t,r,o){return new d(function(i){e.get(t.doc._id).then(function(u){var c=[];if(t.doc.$id||(t.doc.$id=t.doc._id),t.doc.$deleted||o[t.doc.$id])o[t.doc.$id]=!0,c.push(e.remove(u));else if(r[t.doc.$id]){var s=!1;for(var a in t.doc)if("undefined"==typeof r[t.doc.$id][a]){s=!0;break}s?r[t.doc.$id]=n.merge(r[t.doc.$id],t.doc):c.push(e.remove(u))}else r[t.doc.$id]=t.doc;d.all(c).then(i)})})}var f=e("./pouch-utils"),d=f.Promise;n.clone=function(e){return JSON.parse(JSON.stringify(e))},n.merge=function(e,t){var n={};for(var r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n},n.save=function(e){return i(this,e)},n["delete"]=function(e){return i(this,{$id:e,$deleted:!0})},n.all=function(){var e=this;return new d(function(t){var r={},o={};e.allDocs({include_docs:!0},function(e,i){return 0===i.rows.length?void t():(i.rows.sort(function(e,t){return e.doc.$createdAt>t.doc.$createdAt}),void i.rows.forEach(function(e,u){e.doc.$id||(e.doc.$id=e.doc._id),e.doc.$deleted?(delete r[e.doc.$id],o[e.doc.$id]=!0):o[e.doc.$id]||(r[e.doc.$id]=r[e.doc.$id]?n.merge(r[e.doc.$id],e.doc):e.doc),u===i.rows.length-1&&t(r)}))})})},n.onCreate=function(e,t,n,r,o,i){var u=this;u.get(e.id).then(function(e){if(e.$id=e.$id?e.$id:e._id,!n[e.$id]){var c=t(e.$id);c?e.$deleted?(n[e.$id]=!0,i(e.$id)):o(u.merge(c,e)):e.$deleted?n[e.$id]=!0:r(e)}})},n.saveChanges=function(e,t,n){var r=this,o=u(e,t);null!==o&&(o.$id=e.$id,r.save(o).then(function(){n(e)}))},n.cleanup=function(){var e=this;return new d(function(t){e.allDocs({include_docs:!0},function(n,i){var u={},c={};return i.rows.sort(function(e,t){return e.doc.$createdAt<t.doc.$createdAt}),o(i.rows,function(t,n){return a(e,n,u,c)},0).then(function(){r(c)?t():s(e,i,c).then(t)})})})},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./pouch-utils":22}],4:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],5:[function(e,t){"use strict";function n(){}t.exports=n},{}],6:[function(e,t){"use strict";var n=e("./promise"),r=e("./reject"),o=e("./resolve"),i=e("./INTERNAL"),u=e("./handlers"),c=r(new TypeError("must be an array"));t.exports=function(e){function t(e,t){function n(e){a[t]=e,++f===r&!s&&(s=!0,u.resolve(l,a))}o(e).then(n,function(e){s||(s=!0,u.reject(l,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return c;var r=e.length,s=!1;if(!r)return o([]);for(var a=new Array(r),f=0,d=-1,l=new n(i);++d<r;)t(e[d],d);return l}},{"./INTERNAL":5,"./handlers":7,"./promise":9,"./reject":11,"./resolve":12}],7:[function(e,t,n){"use strict";function r(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}var o=e("./tryCatch"),i=e("./resolveThenable"),u=e("./states");n.resolve=function(e,t){var c=o(r,t);if("error"===c.status)return n.reject(e,c.value);var s=c.value;if(s)i.safely(e,s);else{e.state=u.FULFILLED,e.outcome=t;for(var a=-1,f=e.queue.length;++a<f;)e.queue[a].callFulfilled(t)}return e},n.reject=function(e,t){e.state=u.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{"./resolveThenable":13,"./states":14,"./tryCatch":15}],8:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all")},{"./all":6,"./promise":9,"./reject":11,"./resolve":12}],9:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("reslover must be a function");this.state=u.PENDING,this.queue=[],this.outcome=void 0,e!==o&&i.safely(this,e)}var r=e("./unwrap"),o=e("./INTERNAL"),i=e("./resolveThenable"),u=e("./states"),c=e("./queueItem");t.exports=n,n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u.FULFILLED||"function"!=typeof t&&this.state===u.REJECTED)return this;var i=new n(o);if(this.state!==u.PENDING){var s=this.state===u.FULFILLED?e:t;r(i,s,this.outcome)}else this.queue.push(new c(i,e,t));return i}},{"./INTERNAL":5,"./queueItem":10,"./resolveThenable":13,"./states":14,"./unwrap":16}],10:[function(e,t){"use strict";function n(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e("./handlers"),o=e("./unwrap");t.exports=n,n.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},n.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},n.prototype.callRejected=function(e){r.reject(this.promise,e)},n.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)}},{"./handlers":7,"./unwrap":16}],11:[function(e,t){"use strict";function n(e){var t=new r(o);return i.reject(t,e)}var r=e("./promise"),o=e("./INTERNAL"),i=e("./handlers");t.exports=n},{"./INTERNAL":5,"./handlers":7,"./promise":9}],12:[function(e,t){"use strict";function n(e){if(e)return e instanceof r?e:i.resolve(new r(o),e);var t=typeof e;switch(t){case"boolean":return u;case"undefined":return s;case"object":return c;case"number":return a;case"string":return f}}var r=e("./promise"),o=e("./INTERNAL"),i=e("./handlers");t.exports=n;var u=i.resolve(new r(o),!1),c=i.resolve(new r(o),null),s=i.resolve(new r(o),void 0),a=i.resolve(new r(o),0),f=i.resolve(new r(o),"")},{"./INTERNAL":5,"./handlers":7,"./promise":9}],13:[function(e,t,n){"use strict";function r(e,t){function n(t){c||(c=!0,o.reject(e,t))}function r(t){c||(c=!0,o.resolve(e,t))}function u(){t(r,n)}var c=!1,s=i(u);"error"===s.status&&n(s.value)}var o=e("./handlers"),i=e("./tryCatch");n.safely=r},{"./handlers":7,"./tryCatch":15}],14:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],15:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],16:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(i){return o.reject(e,i)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}var r=e("immediate"),o=e("./handlers");t.exports=n},{"./handlers":7,immediate:17}],17:[function(e,t){"use strict";function n(){o=!0;for(var e,t,n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}o=!1}function r(e){1!==c.push(e)||o||i()}for(var o,i,u=[e("./nextTick"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],c=[],s=-1,a=u.length;++s<a;)if(u[s]&&u[s].test&&u[s].test()){i=u[s].install(n);break}t.exports=r},{"./messageChannel":18,"./mutation.js":19,"./nextTick":1,"./stateChange":20,"./timeout":21}],18:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return r.setImmediate?!1:"undefined"!=typeof r.MessageChannel},n.install=function(e){var t=new r.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},{}],19:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},o=r.MutationObserver||r.WebKitMutationObserver;n.test=function(){return o},n.install=function(e){var t=0,n=new o(e),i=r.document.createTextNode("");return n.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}},{}],20:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return"document"in r&&"onreadystatechange"in r.document.createElement("script")},n.install=function(e){return function(){var t=r.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},r.document.documentElement.appendChild(t),e}}},{}],21:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}],22:[function(e,t,n){var r,o=e("__browserify_process"),i="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};r="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof i.Promise?i.Promise:e("lie"),n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},n.toPromise=function(e){return n.getArguments(function(t){var i,u=this,c="function"==typeof t[t.length-1]?t.pop():!1;c&&(i=function(e,t){o.nextTick(function(){c(e,t)})});var s=new r(function(r,o){try{var i=n.once(function(e,t){e?o(e):r(t)});t.push(i),e.apply(u,t)}catch(c){o(c)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},n.inherits=e("inherits"),n.Promise=r},{__browserify_process:2,inherits:4,lie:8}]},{},[3]);
=======
!function e(t,n,r){function o(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return o(n?n:e)},a,a.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(){},{}],2:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],3:[function(e,t,n){"use strict";function r(e){for(var t in e)return!1;return!0}function o(e,t){return t.$createdAt=(new Date).toJSON(),e.post(t)}function i(e,t){var n={},r=!1;for(var o in t)e[o]!==t[o]&&(r=!0,n[o]=t[o],e[o]=t[o]);return r?n:null}function u(e,t){return e.get(t).then(function(t){return e.remove(t)})["catch"](function(e){if(404!==e.status)throw e})}function c(e,t,n){var r=[];return t.rows.forEach(function(t){n[t.doc.$id]&&r.push(u(e,t.id))}),f.all(r)}function s(e,t,r,o){return e.get(t.doc._id).then(function(i){if(t.doc.$id||(t.doc.$id=t.doc._id),t.doc.$deleted||o[t.doc.$id])return o[t.doc.$id]=!0,e.remove(i);if(r[t.doc.$id]){var u=!1;for(var c in t.doc)if("undefined"==typeof r[t.doc.$id][c]){u=!0;break}if(!u)return e.remove(i);r[t.doc.$id]=n.merge(r[t.doc.$id],t.doc)}else r[t.doc.$id]=t.doc})}var a=e("./pouch-utils"),f=a.Promise;n.clone=function(e){return JSON.parse(JSON.stringify(e))},n.merge=function(e,t){var n={};for(var r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n},n.save=function(e){return o(this,e)},n["delete"]=function(e){return o(this,{$id:e,$deleted:!0})},n.all=function(){var e=this,t={},r={};return e.allDocs({include_docs:!0}).then(function(e){return e.rows.sort(function(e,t){return e.doc.$createdAt>t.doc.$createdAt}),e.rows.forEach(function(e){e.doc.$id||(e.doc.$id=e.doc._id),e.doc.$deleted?(delete t[e.doc.$id],r[e.doc.$id]=!0):r[e.doc.$id]||(t[e.doc.$id]=t[e.doc.$id]?n.merge(t[e.doc.$id],e.doc):e.doc)}),t})},n.onCreate=function(e,t,n,r,o,i){var u=this;u.get(e.id).then(function(e){if(e.$id=e.$id?e.$id:e._id,!n[e.$id]){var c=t(e.$id);c?e.$deleted?(n[e.$id]=!0,i(e.$id)):o(u.merge(c,e)):e.$deleted?n[e.$id]=!0:r(e)}})},n.saveChanges=function(e,t){var n=this,r=i(e,t);return null!==r?(r.$id=e.$id,n.save(r).then(function(){return e})):f.resolve()},n.getAndRemove=function(e){return u(this,e)},n.cleanup=function(){var e=this;return e.allDocs({include_docs:!0}).then(function(t){var n={},o={},i=f.resolve();return t.rows.sort(function(e,t){return e.doc.$createdAt<t.doc.$createdAt}),t.rows.forEach(function(t){i=i.then(function(){return s(e,t,n,o)})}),i.then(function(){return r(o)?void 0:c(e,t,o)})})},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./pouch-utils":22}],4:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],5:[function(e,t){"use strict";function n(){}t.exports=n},{}],6:[function(e,t){"use strict";var n=e("./promise"),r=e("./reject"),o=e("./resolve"),i=e("./INTERNAL"),u=e("./handlers"),c=r(new TypeError("must be an array"));t.exports=function(e){function t(e,t){function n(e){a[t]=e,++f===r&!s&&(s=!0,u.resolve(l,a))}o(e).then(n,function(e){s||(s=!0,u.reject(l,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return c;var r=e.length,s=!1;if(!r)return o([]);for(var a=new Array(r),f=0,d=-1,l=new n(i);++d<r;)t(e[d],d);return l}},{"./INTERNAL":5,"./handlers":7,"./promise":9,"./reject":11,"./resolve":12}],7:[function(e,t,n){"use strict";function r(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}var o=e("./tryCatch"),i=e("./resolveThenable"),u=e("./states");n.resolve=function(e,t){var c=o(r,t);if("error"===c.status)return n.reject(e,c.value);var s=c.value;if(s)i.safely(e,s);else{e.state=u.FULFILLED,e.outcome=t;for(var a=-1,f=e.queue.length;++a<f;)e.queue[a].callFulfilled(t)}return e},n.reject=function(e,t){e.state=u.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{"./resolveThenable":13,"./states":14,"./tryCatch":15}],8:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all")},{"./all":6,"./promise":9,"./reject":11,"./resolve":12}],9:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("reslover must be a function");this.state=u.PENDING,this.queue=[],this.outcome=void 0,e!==o&&i.safely(this,e)}var r=e("./unwrap"),o=e("./INTERNAL"),i=e("./resolveThenable"),u=e("./states"),c=e("./queueItem");t.exports=n,n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u.FULFILLED||"function"!=typeof t&&this.state===u.REJECTED)return this;var i=new n(o);if(this.state!==u.PENDING){var s=this.state===u.FULFILLED?e:t;r(i,s,this.outcome)}else this.queue.push(new c(i,e,t));return i}},{"./INTERNAL":5,"./queueItem":10,"./resolveThenable":13,"./states":14,"./unwrap":16}],10:[function(e,t){"use strict";function n(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e("./handlers"),o=e("./unwrap");t.exports=n,n.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},n.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},n.prototype.callRejected=function(e){r.reject(this.promise,e)},n.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)}},{"./handlers":7,"./unwrap":16}],11:[function(e,t){"use strict";function n(e){var t=new r(o);return i.reject(t,e)}var r=e("./promise"),o=e("./INTERNAL"),i=e("./handlers");t.exports=n},{"./INTERNAL":5,"./handlers":7,"./promise":9}],12:[function(e,t){"use strict";function n(e){if(e)return e instanceof r?e:i.resolve(new r(o),e);var t=typeof e;switch(t){case"boolean":return u;case"undefined":return s;case"object":return c;case"number":return a;case"string":return f}}var r=e("./promise"),o=e("./INTERNAL"),i=e("./handlers");t.exports=n;var u=i.resolve(new r(o),!1),c=i.resolve(new r(o),null),s=i.resolve(new r(o),void 0),a=i.resolve(new r(o),0),f=i.resolve(new r(o),"")},{"./INTERNAL":5,"./handlers":7,"./promise":9}],13:[function(e,t,n){"use strict";function r(e,t){function n(t){c||(c=!0,o.reject(e,t))}function r(t){c||(c=!0,o.resolve(e,t))}function u(){t(r,n)}var c=!1,s=i(u);"error"===s.status&&n(s.value)}var o=e("./handlers"),i=e("./tryCatch");n.safely=r},{"./handlers":7,"./tryCatch":15}],14:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],15:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],16:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(i){return o.reject(e,i)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}var r=e("immediate"),o=e("./handlers");t.exports=n},{"./handlers":7,immediate:17}],17:[function(e,t){"use strict";function n(){o=!0;for(var e,t,n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}o=!1}function r(e){1!==c.push(e)||o||i()}for(var o,i,u=[e("./nextTick"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],c=[],s=-1,a=u.length;++s<a;)if(u[s]&&u[s].test&&u[s].test()){i=u[s].install(n);break}t.exports=r},{"./messageChannel":18,"./mutation.js":19,"./nextTick":1,"./stateChange":20,"./timeout":21}],18:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return r.setImmediate?!1:"undefined"!=typeof r.MessageChannel},n.install=function(e){var t=new r.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},{}],19:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},o=r.MutationObserver||r.WebKitMutationObserver;n.test=function(){return o},n.install=function(e){var t=0,n=new o(e),i=r.document.createTextNode("");return n.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}},{}],20:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return"document"in r&&"onreadystatechange"in r.document.createElement("script")},n.install=function(e){return function(){var t=r.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},r.document.documentElement.appendChild(t),e}}},{}],21:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}],22:[function(e,t,n){var r,o=e("__browserify_process"),i="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};r="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof i.Promise?i.Promise:e("lie"),n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},n.toPromise=function(e){return n.getArguments(function(t){var i,u=this,c="function"==typeof t[t.length-1]?t.pop():!1;c&&(i=function(e,t){o.nextTick(function(){c(e,t)})});var s=new r(function(r,o){try{var i=n.once(function(e,t){e?o(e):r(t)});t.push(i),e.apply(u,t)}catch(c){o(c)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},n.inherits=e("inherits"),n.Promise=r},{__browserify_process:2,inherits:4,lie:8}]},{},[3]);
>>>>>>> master
=======
!function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return i(n?n:e)},a,a.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){function r(e){return"[object Array]"===a.call(e)}function i(e,t){var n;if(null===e)n={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return"undefined"!=typeof t&&Object.defineProperties&&Object.defineProperties(n,t),n}function o(e){return"object"!=typeof e&&"function"!=typeof e||null===e}function s(e){if(o(e))throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)f.call(e,n)&&t.push(n);return t}function u(e){if(o(e))throw new TypeError("Object.getOwnPropertyNames called on a non-object");var t=s(e);return n.isArray(e)&&-1===n.indexOf(e,"length")&&t.push("length"),t}function c(e,t){return{value:e[t]}}var a=Object.prototype.toString,f=Object.prototype.hasOwnProperty;n.isArray="function"==typeof Array.isArray?Array.isArray:r,n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},n.filter=function(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n},n.forEach=function(e,t,n){if(e.forEach)return e.forEach(t,n);for(var r=0;r<e.length;r++)t.call(n,e[r],r,e)},n.map=function(e,t){if(e.map)return e.map(t);for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n},n.reduce=function(e,t,n){if(e.reduce)return e.reduce(t,n);var r,i=!1;2<arguments.length&&(r=n,i=!0);for(var o=0,s=e.length;s>o;++o)e.hasOwnProperty(o)&&(i?r=t(r,e[o],o,e):(r=e[o],i=!0));return r},n.substr="b"!=="ab".substr(-1)?function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}:function(e,t,n){return e.substr(t,n)},n.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},n.bind=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(t.bind)return t.bind.apply(t,e);var n=e.shift();return function(){t.apply(n,e.concat([Array.prototype.slice.call(arguments)]))}},n.create="function"==typeof Object.create?Object.create:i;var l="function"==typeof Object.keys?Object.keys:s,p="function"==typeof Object.getOwnPropertyNames?Object.getOwnPropertyNames:u;if((new Error).hasOwnProperty("description")){var d=function(e,t){return"[object Error]"===a.call(e)&&(t=n.filter(t,function(e){return"description"!==e&&"number"!==e&&"message"!==e})),t};n.keys=function(e){return d(e,l(e))},n.getOwnPropertyNames=function(e){return d(e,p(e))}}else n.keys=l,n.getOwnPropertyNames=p;if("function"==typeof Object.getOwnPropertyDescriptor)try{Object.getOwnPropertyDescriptor({a:1},"a"),n.getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor}catch(h){n.getOwnPropertyDescriptor=function(e,t){try{return Object.getOwnPropertyDescriptor(e,t)}catch(n){return c(e,t)}}}else n.getOwnPropertyDescriptor=c},{}],2:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var r=e("util");t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r.isNumber(e)||0>e)throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,o,s,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r.isObject(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[e],r.isUndefined(n))return!1;if(r.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),s=1;i>s;s++)o[s-1]=arguments[s];n.apply(this,o)}else if(r.isObject(n)){for(i=arguments.length,o=new Array(i-1),s=1;i>s;s++)o[s-1]=arguments[s];for(u=n.slice(),i=u.length,s=0;i>s;s++)u[s].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var i;if(!r.isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r.isFunction(t.listener)?t.listener:t),this._events[e]?r.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r.isObject(this._events[e])&&!this._events[e].warned){var i;i=r.isUndefined(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),t.apply(this,arguments)}if(!r.isFunction(t))throw TypeError("listener must be a function");return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||r.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r.isObject(n)){for(s=o;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r.isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r.isFunction(e._events[t])?1:e._events[t].length:0}},{util:3}],3:[function(e,t,n){function r(e,t){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(t)?r.showHidden=t:t&&n._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,e,r.depth)}function i(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function o(e){return e}function s(e){var t={};return T.forEach(e,function(e){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&L(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r);return g(i)||(i=u(e,i,r)),i}var o=c(e,t);if(o)return o;var h=T.keys(t),v=s(h);if(e.showHidden&&(h=T.getOwnPropertyNames(t)),0===h.length){if(L(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(j(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return a(t)}var m="",w=!1,b=["{","}"];if(d(t)&&(w=!0,b=["[","]"]),L(t)){var E=t.name?": "+t.name:"";m=" [Function"+E+"]"}if(_(t)&&(m=" "+RegExp.prototype.toString.call(t)),j(t)&&(m=" "+Date.prototype.toUTCString.call(t)),O(t)&&(m=" "+a(t)),0===h.length&&(!w||0==t.length))return b[0]+m+b[1];if(0>r)return _(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=w?f(e,t,r,v,h):h.map(function(n){return l(e,t,r,v,n,w)}),e.seen.pop(),p(x,m,b)}function c(e,t){if(b(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],s=0,u=t.length;u>s;++s)o.push(P(t,String(s))?l(e,t,n,r,String(s),!0):"");return T.forEach(i,function(i){i.match(/^\d+$/)||o.push(l(e,t,n,r,i,!0))}),o}function l(e,t,n,r,i,o){var s,c,a;if(a=T.getOwnPropertyDescriptor(t,i)||{value:t[i]},a.get?c=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(c=e.stylize("[Setter]","special")),P(r,i)||(s="["+i+"]"),c||(T.indexOf(e.seen,a.value)<0?(c=v(n)?u(e,a.value,null):u(e,a.value,n-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n"))):c=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function p(e,t,n){var r=0,i=T.reduce(e,function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return T.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function b(e){return void 0===e}function _(e){return E(e)&&"[object RegExp]"===$(e)}function E(e){return"object"==typeof e&&e}function j(e){return E(e)&&"[object Date]"===$(e)}function O(e){return E(e)&&"[object Error]"===$(e)}function L(e){return"function"==typeof e}function x(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function N(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.binarySlice}function $(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function D(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var T=e("_shims"),F=/%[sdj%]/g;n.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(e).replace(F,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),u=i[n];o>n;u=i[++n])s+=v(u)||!E(u)?" "+u:" "+r(u);return s},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=h,n.isNull=v,n.isNullOrUndefined=y,n.isNumber=m,n.isString=g,n.isSymbol=w,n.isUndefined=b,n.isRegExp=_,n.isObject=E,n.isDate=j,n.isError=O,n.isFunction=L,n.isPrimitive=x,n.isBuffer=N;var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",D(),n.format.apply(n,arguments))},n.inherits=function(e,t){e.super_=t,e.prototype=T.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},n._extend=function(e,t){if(!t||!E(t))return e;for(var n=T.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},{_shims:1}],4:[function(){},{}],5:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],6:[function(e,t,n){"use strict";function r(e){for(var t in e)return!1;return!0}function i(e){return"string"==typeof e||e instanceof String}function o(e){return!isNaN(e)}function s(e){return"undefined"==typeof e}function u(e,t){return t.$createdAt=(new Date).toJSON(),t.$id?(t._id=t.$id+"_"+t.$createdAt,e.put(t)):e.post(t)}function c(e,t){e.get(t.id).then(function(e){var t=e.$id?e.$id:e._id;n.wasDeleted(t)||(e.$deleted?(n.markDeletion(t),n.delta.emit("delete",t)):e.$id?n.delta.emit("update",e):(e.$id=t,n.delta.emit("create",e)))})}function a(e){e.delta.removeAllListeners()}function f(e,t){var n={},r=!1;for(var i in t)e[i]!==t[i]&&(r=!0,n[i]=t[i]);return r?n:null}function l(e,t){return e.get(t).then(function(t){return e.remove(t)})["catch"](function(e){if(404!==e.status)throw e})}function p(e,t,n){var r=[];return t.rows.forEach(function(t){n[t.doc.$id]&&r.push(l(e,t.id))}),v.all(r)}function d(e,t,r,i){return e.get(t.doc._id).then(function(o){if(t.doc.$id||(t.doc.$id=t.doc._id),t.doc.$deleted||i[t.doc.$id])return i[t.doc.$id]=!0,e.remove(o);if(r[t.doc.$id]){var s=!1;for(var u in t.doc)if("undefined"==typeof r[t.doc.$id][u]){s=!0;break}if(!s)return e.remove(o);r[t.doc.$id]=n.merge(r[t.doc.$id],t.doc)}else r[t.doc.$id]=t.doc})}var h=e("./pouch-utils"),v=h.Promise,y=e("events");n.delta=new y.EventEmitter,n.deltaInit=function(){this.on("create",function(e){c(this,e)}),this.on("destroyed",function(){a(this)})},n.clone=function(e){return JSON.parse(JSON.stringify(e))},n.merge=function(e,t){var n={};for(var r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n},n.save=function(e){return u(this,e)},n["delete"]=function(e){var t=i(e)||o(e)?e:e.$id;if(s(t))throw new Error("missing $id");return u(this,{$id:t,$deleted:!0})},n.all=function(){var e=this,t={},r={};return e.allDocs({include_docs:!0}).then(function(e){return e.rows.forEach(function(e){e.doc.$id||(e.doc.$id=e.doc._id),e.doc.$deleted?(delete t[e.doc.$id],r[e.doc.$id]=!0):r[e.doc.$id]||(t[e.doc.$id]=t[e.doc.$id]?n.merge(t[e.doc.$id],e.doc):e.doc)}),t})};var m={};n.wasDeleted=function(e){return m[e]?!0:!1},n.markDeletion=function(e){m[e]=!0},n.saveChanges=function(e,t){var n=this,r=f(e,t);return null!==r?(r.$id=e.$id,n.save(r).then(function(){return r})):v.resolve()},n.getAndRemove=function(e){return l(this,e)},n.cleanup=function(){var e=this;return e.allDocs({include_docs:!0}).then(function(t){var n={},i={},o=v.resolve();return t.rows.sort(function(e,t){return e.doc.$createdAt<t.doc.$createdAt}),t.rows.forEach(function(t){o=o.then(function(){return d(e,t,n,i)})}),o.then(function(){return r(i)?void 0:p(e,t,i)})})},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./pouch-utils":25,events:2}],7:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],8:[function(e,t){"use strict";function n(){}t.exports=n},{}],9:[function(e,t){"use strict";var n=e("./promise"),r=e("./reject"),i=e("./resolve"),o=e("./INTERNAL"),s=e("./handlers"),u=r(new TypeError("must be an array"));t.exports=function(e){function t(e,t){function n(e){a[t]=e,++f===r&!c&&(c=!0,s.resolve(p,a))}i(e).then(n,function(e){c||(c=!0,s.reject(p,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return u;var r=e.length,c=!1;if(!r)return i([]);for(var a=new Array(r),f=0,l=-1,p=new n(o);++l<r;)t(e[l],l);return p}},{"./INTERNAL":8,"./handlers":10,"./promise":12,"./reject":14,"./resolve":15}],10:[function(e,t,n){"use strict";function r(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}var i=e("./tryCatch"),o=e("./resolveThenable"),s=e("./states");n.resolve=function(e,t){var u=i(r,t);if("error"===u.status)return n.reject(e,u.value);var c=u.value;if(c)o.safely(e,c);else{e.state=s.FULFILLED,e.outcome=t;for(var a=-1,f=e.queue.length;++a<f;)e.queue[a].callFulfilled(t)}return e},n.reject=function(e,t){e.state=s.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{"./resolveThenable":16,"./states":17,"./tryCatch":18}],11:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all")},{"./all":9,"./promise":12,"./reject":14,"./resolve":15}],12:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("reslover must be a function");this.state=s.PENDING,this.queue=[],this.outcome=void 0,e!==i&&o.safely(this,e)}var r=e("./unwrap"),i=e("./INTERNAL"),o=e("./resolveThenable"),s=e("./states"),u=e("./queueItem");t.exports=n,n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s.FULFILLED||"function"!=typeof t&&this.state===s.REJECTED)return this;var o=new n(i);if(this.state!==s.PENDING){var c=this.state===s.FULFILLED?e:t;r(o,c,this.outcome)}else this.queue.push(new u(o,e,t));return o}},{"./INTERNAL":8,"./queueItem":13,"./resolveThenable":16,"./states":17,"./unwrap":19}],13:[function(e,t){"use strict";function n(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e("./handlers"),i=e("./unwrap");t.exports=n,n.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},n.prototype.otherCallFulfilled=function(e){i(this.promise,this.onFulfilled,e)},n.prototype.callRejected=function(e){r.reject(this.promise,e)},n.prototype.otherCallRejected=function(e){i(this.promise,this.onRejected,e)}},{"./handlers":10,"./unwrap":19}],14:[function(e,t){"use strict";function n(e){var t=new r(i);return o.reject(t,e)}var r=e("./promise"),i=e("./INTERNAL"),o=e("./handlers");t.exports=n},{"./INTERNAL":8,"./handlers":10,"./promise":12}],15:[function(e,t){"use strict";function n(e){if(e)return e instanceof r?e:o.resolve(new r(i),e);var t=typeof e;switch(t){case"boolean":return s;case"undefined":return c;case"object":return u;case"number":return a;case"string":return f}}var r=e("./promise"),i=e("./INTERNAL"),o=e("./handlers");t.exports=n;var s=o.resolve(new r(i),!1),u=o.resolve(new r(i),null),c=o.resolve(new r(i),void 0),a=o.resolve(new r(i),0),f=o.resolve(new r(i),"")},{"./INTERNAL":8,"./handlers":10,"./promise":12}],16:[function(e,t,n){"use strict";function r(e,t){function n(t){u||(u=!0,i.reject(e,t))}function r(t){u||(u=!0,i.resolve(e,t))}function s(){t(r,n)}var u=!1,c=o(s);"error"===c.status&&n(c.value)}var i=e("./handlers"),o=e("./tryCatch");n.safely=r},{"./handlers":10,"./tryCatch":18}],17:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],18:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],19:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(o){return i.reject(e,o)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}var r=e("immediate"),i=e("./handlers");t.exports=n},{"./handlers":10,immediate:20}],20:[function(e,t){"use strict";function n(){i=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}function r(e){1!==u.push(e)||i||o()}for(var i,o,s=[e("./nextTick"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],u=[],c=-1,a=s.length;++c<a;)if(s[c]&&s[c].test&&s[c].test()){o=s[c].install(n);break}t.exports=r},{"./messageChannel":21,"./mutation.js":22,"./nextTick":4,"./stateChange":23,"./timeout":24}],21:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return r.setImmediate?!1:"undefined"!=typeof r.MessageChannel},n.install=function(e){var t=new r.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},{}],22:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},i=r.MutationObserver||r.WebKitMutationObserver;n.test=function(){return i},n.install=function(e){var t=0,n=new i(e),o=r.document.createTextNode("");return n.observe(o,{characterData:!0}),function(){o.data=t=++t%2}}},{}],23:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return"document"in r&&"onreadystatechange"in r.document.createElement("script")},n.install=function(e){return function(){var t=r.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},r.document.documentElement.appendChild(t),e}}},{}],24:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}],25:[function(e,t,n){var r,i=e("__browserify_process"),o="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};r="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof o.Promise?o.Promise:e("lie"),n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},n.toPromise=function(e){return n.getArguments(function(t){var o,s=this,u="function"==typeof t[t.length-1]?t.pop():!1;u&&(o=function(e,t){i.nextTick(function(){u(e,t)})});var c=new r(function(r,i){try{var o=n.once(function(e,t){e?i(e):r(t)});t.push(o),e.apply(s,t)}catch(u){i(u)}});return o&&c.then(function(e){o(null,e)},o),c.cancel=function(){return this},c})},n.inherits=e("inherits"),n.Promise=r},{__browserify_process:5,inherits:7,lie:11}]},{},[6]);
>>>>>>> master
